# Fat-Free Framework URL 重写规则

# 启用重写引擎
RewriteEngine On

# 设置重写基础路径
RewriteBase /

# 如果请求的是实际存在的文件或目录，则直接访问
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# 将所有其他请求重定向到 index.php
RewriteRule ^ index.php [QSA,L]

# 设置默认字符集
AddDefaultCharset UTF-8

# 禁止目录浏览
Options -Indexes

# 保护敏感文件
<FilesMatch "^(config\.php|\.env)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# 启用 GZIP 压缩
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE application/json
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/plain
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/x-javascript
</IfModule>

# 设置缓存策略
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresDefault "access plus 1 hour"
</IfModule>
